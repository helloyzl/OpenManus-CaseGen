<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenManus Web</title>
    <link rel="stylesheet" href="static/css/styles.css">
    <!-- 引入字体图标 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- 网站图标 -->
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3EO%3C/text%3E%3C/svg%3E" type="image/svg+xml">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h1>OpenManus</h1>
                <button id="new-chat-btn" class="new-chat-btn">
                    <i class="bi bi-plus-lg"></i> 新对话
                </button>
            </div>
            <div class="history-list" id="history-list">
                <!-- 历史对话列表将通过JS动态添加 -->
            </div>
            <div class="sidebar-footer">
                <div class="settings-menu">
                    <button id="settings-btn" class="settings-btn">
                        <i class="bi bi-gear"></i>
                        <span>设置</span>
                    </button>
                    <div class="settings-dropdown" id="settings-dropdown">
                        <div class="settings-item" id="clear-history">
                            <i class="bi bi-trash"></i>
                            <span>清除历史记录</span>
                        </div>
                        <div class="settings-item" id="toggle-reasoning">
                            <i class="bi bi-lightbulb"></i>
                            <span>显示推理过程</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="reasoning-toggle">
                                <label for="reasoning-toggle"></label>
                            </div>
                        </div>
                        <div class="settings-item" id="about-us">
                            <i class="bi bi-info-circle"></i>
                            <span>关于我们</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <!-- WebSocket状态信息 -->
            <div class="connection-status" id="connection-status">
                <i class="bi bi-info-circle"></i>
                <span>WebSocket连接已建立</span>
            </div>
            
            <div class="chat-container" id="chat-container">
                <div class="welcome-screen" id="welcome-screen">
                    <h1>OpenManus Web</h1>
                    <p>一个多功能智能代理，可以帮助您解决各种任务</p>
                    <div class="examples">
                        <h3>您可以尝试：</h3>
                        <div class="example-grid">
                            <div class="example-card" onclick="setPrompt('帮我写一个Python爬虫，抓取豆瓣Top250电影')">
                                <i class="bi bi-code-square"></i>
                                <p>帮我写一个Python爬虫，抓取豆瓣Top250电影</p>
                            </div>
                            <div class="example-card" onclick="setPrompt('用Python编写一个简单的贪吃蛇游戏')">
                                <i class="bi bi-joystick"></i>
                                <p>用Python编写一个简单的贪吃蛇游戏</p>
                            </div>
                            <div class="example-card" onclick="setPrompt('帮我分析一下最近人工智能发展的趋势')">
                                <i class="bi bi-graph-up"></i>
                                <p>帮我分析一下最近人工智能发展的趋势</p>
                            </div>
                            <div class="example-card" onclick="setPrompt('如何使用Python处理大规模数据？')">
                                <i class="bi bi-database"></i>
                                <p>如何使用Python处理大规模数据？</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="chat-messages" id="chat-messages">
                    <!-- 聊天消息将通过JS动态添加 -->
                </div>
            </div>
            
            <div class="input-container">
                <div class="input-wrapper">
                    <textarea id="user-input" placeholder="输入消息..." rows="1"></textarea>
                    <button id="file-upload-btn" class="file-upload-btn" title="上传文件" style="display: block; opacity: 1; visibility: visible;">
                        <i class="bi bi-file-earmark"></i>
                    </button>
                    <input type="file" id="file-upload" class="file-upload-input" style="display: none;">
                    <button id="send-btn" class="send-btn" title="发送消息">
                        <i class="bi bi-send"></i>
                    </button>
                </div>
                <div class="disclaimer">
                    OpenManus 是一个开源AI代理平台。请负责任地使用，不要发送敏感信息。
                </div>
            </div>
            
            <!-- 关于我们模态框 -->
            <div class="modal" id="about-modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>关于我们</h2>
                        <button class="close-modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <h3>OpenManus Web界面</h3>
                        <p>开发者：TobeANiceTester</p>
                        <p>基于OpenManus开源框架，添加了Web界面支持，让您可以在浏览器中使用强大的AI代理能力。</p>
                        <div class="developer-info">
                            <h4>项目信息</h4>
                            <p>版本：1.0.0</p>
                            <p>GitHub：<a href="https://github.com/openmanus-ai/OpenManus" target="_blank">https://github.com/openmanus-ai/OpenManus</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="static/js/main.js"></script>
</body>
</html>